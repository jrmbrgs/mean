{
  "name": "mongo-hacker",
  "version": "0.0.3",
  "description": "MongoDB Shell Enhancements for Hackers",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "install": "make all",
    "update": "make all",
    "postuninstall": "make uninstall"
  },
  "repository": {
    "type": "git",
    "url": "git@github.com:TylerBrock/mongo-hacker.git"
  },
  "keywords": [
    "mongodb",
    "shell",
    "hacks",
    "tweaks"
  ],
  "author": {
    "name": "Tyler Brock",
    "email": "tyler.brock@gmail.com"
  },
  "homepage": "http://tylerbrock.github.io/mongo-hacker/",
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/TylerBrock/mongo-hacker/issues"
  },
  "readme": "# MongoDB Shell Enhancements\n\n## Warnings\n\n* These enhancements are useful to me but they don't make sense for everyone. Feel free to tweak to your desire and please submit pull requests.\n* Does not work in Windows (currently)\n* Does not work with shells or db servers < 2.2 (currently)\n* Updates called on existing cursors are new and experimental (see notes in API section)\n\n## Installation\n\nLink mongo_hacker.js to `.mongorc.js` in your home directory:\n\n```sh\nmake\n```\n\nor (the manual way)\n\n```sh\nln -sf <mongo-hacker-dir>/mongo_hacker.js ~/.mongorc.js\n```\n\nNote: This currently only works with the v2.2+ of shell (which you can use with earlier versions of the server safely)\n\n## Enhancements\n\n### Basic UX\n\n  - Highlight querytime if verboseShell is enabled\n    - In **green** if querytime is at or below slowms\n    - In **red** if query time is above slowms\n  - IndexParanoia\n    - Automatically show information about index use -- to disable: `setIndexParanoia(false)`\n  - Default indent is 2 spaces instead of tab\n    - Customizable by setting `__indent`\n  - Verbose shell is enabled by default -- to disable: `setVerboseShell(false)`\n  - Disable notfication of \"Type 'it' for more\"\n  - Custom prompt: `hostname(process-version)[rs status] db>`\n  - Always pretty print\n  - Show DBs has aligned columns and shows less significant digits (in master for Mongo 2.5/2.6)\n  - Nicer sh.status() output (remove lastmod, take up less space, colorize chunk's shard)\n\n#### Colorization\n\nColorized query output\n\n![Colorized Output](http://tylerbrock.github.com/mongo-hacker/screenshots/colorized_shell.png)\n\n### API Additions\n\n#### General\n\nFilter for a collection of documents:\n\n```js\ndb.collection.filter(<criteria>)\n```\n\nOne for finding a single document:\n\n```js\ndb.collection.find({ ... }).one() == db.collection.findOne({ ... })\n```\n\nSelect for selecting fields to return (projection):\n\n```js\ndb.collection.find({ ... }).select({ name: 1 })\n```\n\nReverse for descending sort by insertion order (default) or arbitrary field:\n\n```js\ndb.collection.find({ ... }).reverse()\ndb.collection.find({ ... }).reverse('createDate')\n```\n\nLast for finding last inserted document (default) or document last by given field:\n\n```js\ndb.collection.find({ ... }).last()\ndb.collection.find({ ... }).last('createDate')\n```\n\nUpdate, Replace, Upsert and Remove can be called on a DBQuery Object:\n\n```js\ndb.collection.find({ ... }).update({ ... })  // multi update\ndb.collection.find({ ... }).replace({ ... }) // single replacement\ndb.collection.find({ ... }).upsert({ ... })  // single upsert\ndb.collection.find({ ... }).remove()         // multi remove\n```\n\nSort, limit, and skip through multi updates and removes:\n\n```js\ndb.collection.find({ ... }).limit(7).update({ ... })\ndb.collection.find({ ... }).sort({ ... }).skip(1).limit(3).update({ ... })\ndb.collection.find({ ... }).limit(3).remove()\n```\n\n**Note**: *The performance of multi updates involving a skip or limit may be worse than those without those specifications due to there being absolutely no native support for this feature in MongoDB itself. It should be understood by the user of this software that use of this feature (by calling update on a cursor rather than a collection) is advanced and experimental. The option to do this sort of operation is purely additive to the MongoDB experience with MongoHacker and usage of it is in no way required. Furthermore, its inclusion in this enhancement does not effect the operation of updates invoked through collections and, in practice, is insanely useful.*\n\n\n#### Aggregation Framework\n\nThe aggregation framework is now fluent as well. You can use it as currently documented or via the chainable methods.\n\nCalling aggregate without an array of operations or $operations will make it a match.\n\n```js\n// matches every document\ndb.collection.aggregate()\ndb.collection.aggregate({})\n\n// matches documents where the \"a\" is equal to 1\ndb.collection.aggregate({a: 1})\n\n// matches documents where \"a\" is greater than 7\ndb.collection.aggregate({a: {$gt: 7}})\n```\n\nAdditional methods can then be chained on top of the inital match in order to make more complicated aggregations.\n\n```js\n// Match and project\ndb.collection.aggregate(<querydoc>).project(<projection>)\ndb.collection.aggregate({a: 1}).project({a: 1, _id: 0})\n\n// Match, group and sort\ndb.collection.aggregate({<match>}).group({<group>}).sort({<sort>})\ndb.test.aggregate().group({_id: '$a', 'sum': {'$sum': 1}}).sort({sum: -1})\n```\n\n#### Helpers\n\nGeneral Shell Helpers\n  - `findCommand('search')` list commands that match the search string\n\nAggregation Framework Helpers -- on collections\n  - Group and Count: `gcount(group_field, filter)`\n  - Group and Sum: `gsum(group_field, sum_field, filter)`\n  - Group and Average: `gavg(group_field, avg_field, filter)`\n\n",
  "readmeFilename": "README.md",
  "_id": "mongo-hacker@0.0.3",
  "_from": "mongo-hacker@"
}
